{{ $menuLength := len .Site.Menus.main }}
{{ $page := . }}
{{ $langs := sort .Site.Languages "Weight" }}
<header>
  <p style="padding: 0;margin: 0;">
    <a href="{{ .Site.Home.RelPermalink }}">
      <b>{{ .Site.Title }}</b>
      <span class="text-stone-500 animate-blink">â–®</span>
    </a>
  </p>

  {{ if le $menuLength 1 }}
  <div style="display: flex; justify-content: flex-end; gap: 1rem;">
    <ul style="padding: 0;margin: 0;">
      {{ $currentPage := . }}
    {{ range .Site.Menus.main }}
    <li class="{{ if $currentPage.HasMenuCurrent "main" . }}active{{ end }}">
      <a href="{{ .URL }}"><span>{{ .Name }}</span></a>
      {{ end }}
    </li>
      {{ range .Site.Menus.main }}
      <li class="{{ if $currentPage.HasMenuCurrent "main" . }}active{{ end }}">
        <a href="{{ .URL }}"><span>{{ .Name }}</span></a>
        {{ end }}
      </li>
    </ul>
    <span class="lang-selector" style="margin-left: auto;">
      {{ range $index, $lang := $langs }}
        {{ $translations := where $page.AllTranslations "Lang" $lang.Lang }}
        {{ $scratch := newScratch }}
        {{ $scratch.Set "link" (printf "/%s/" $lang.Lang) }}
        {{ with $translations }}
          {{ $scratch.Set "link" (index . 0).RelPermalink }}
        {{ end }}
        {{ $link := $scratch.Get "link" }}
        {{ if eq $lang.Lang $.Site.Language.Lang }}
          <b>{{ $lang.LanguageName }}</b>
        {{ else }}
          <a href="{{ $link }}">{{ $lang.LanguageName }}</a>
        {{ end }}
        {{ if lt (add $index 1) (len $langs) }}&nbsp;|&nbsp;{{ end }}
      {{ end }}
    </span>
  </div>
  {{ else }}
  <button class="burger" aria-label="Toggle menu">
    <span></span>
    <span></span>
    <span></span>
  </button>
  <nav class="nav-menu">
    <ul style="padding: 0;margin: 0;">
      <li class="lang-selector-mobile">
        {{ range $index, $lang := $langs }}
          {{ $translations := where $page.AllTranslations "Lang" $lang.Lang }}
          {{ $scratch := newScratch }}
          {{ $scratch.Set "link" (printf "/%s/" $lang.Lang) }}
          {{ with $translations }}
            {{ $scratch.Set "link" (index . 0).RelPermalink }}
          {{ end }}
          {{ $link := $scratch.Get "link" }}
          {{ if eq $lang.Lang $.Site.Language.Lang }}
            <b>{{ $lang.LanguageName }}</b>
          {{ else }}
            <a href="{{ $link }}">{{ $lang.LanguageName }}</a>
          {{ end }}
          {{ if lt (add $index 1) (len $langs) }}&nbsp;|&nbsp;{{ end }}
        {{ end }}
      </li>
      {{ $currentPage := . }}
      {{ range $index, $element := .Site.Menus.main }}
        <li class="{{ if $currentPage.HasMenuCurrent "main" . }}active{{ end }}">
          <a href="{{ .URL }}"><span>{{ .Name }}</span></a>
        </li>
      {{ end }}
    </ul>
  </nav>
  {{ end }}
</header>
<hr class="hr-list" style="padding: 0;margin: 0;">